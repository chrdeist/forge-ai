# Docker Deployment Guide

Generated by **Forge AI - Phase 10: Deployment & Containerization**

## Project Information

- **Name**: hello-world
- **Description**: Generated application
- **Generated**: 2025-12-07T17:11:01.614Z

## Quick Start

### Option 1: Using Deployment Script (Recommended)

```bash
cd deployment
chmod +x deploy.sh
./deploy.sh
```

### Option 2: Manual Docker Build & Run

```bash
cd deployment
docker build -t hello-world:1.0.0 -f Dockerfile ../generated-code
docker run --rm hello-world:1.0.0
```

### Option 3: Using Docker Compose

```bash
cd deployment
docker-compose up --build
```

## Files

- **Dockerfile** - Container definition
- **docker-compose.yml** - Orchestration configuration  
- **.dockerignore** - Files to exclude from Docker build
- **deploy.sh** - Automated deployment script
- **rollback.sh** - Rollback to previous version
- **DEPLOYMENT.md** - This file
- **CHECKLIST.md** - Deployment readiness checklist
- **.env.template** - Environment variables template
- **.github/workflows/ci-cd.yml** - GitHub Actions pipeline

## Deployment Scripts

### deploy.sh
Automated deployment with health checks:

```bash
./deploy.sh                          # Uses default settings
IMAGE_TAG=2.0.0 ./deploy.sh          # Deploy specific version
PORT=8080 ./deploy.sh                # Use custom port
```

Environment variables:
- `IMAGE_TAG` - Docker image tag (default: 1.0.0)
- `REGISTRY` - Registry URL (default: ghcr.io)
- `CONTAINER_NAME` - Container name (default: hello-world)
- `PORT` - Published port (default: 3000)

### rollback.sh
Rollback to previous version:

```bash
BACKUP_IMAGE=ghcr.io/project/app:old-tag ./rollback.sh
```

## CI/CD Pipeline

GitHub Actions workflow automatically:
1. Runs tests on push/PR
2. Builds Docker image
3. Pushes to registry
4. Can trigger deployments

View workflow: `.github/workflows/ci-cd.yml`

## Image Details

- **Base Image**: node:22-alpine
- **Working Directory**: /app
- **Entry Point**: Configured in Dockerfile
- **Environment**: NODE_ENV=production

## Environment Variables

Set via docker-compose.yml or deploy script:

```bash
docker run -e NODE_ENV=production hello-world:1.0.0
```

## Troubleshooting

**Container exits immediately?**
- This may be expected behavior for CLI applications
- Add `-it` flags for interactive mode

**Build fails?**
- Check Docker daemon is running
- Verify generated-code/ directory exists
- Run `docker build --no-cache` to rebuild

**Permission denied on deploy.sh?**
```bash
chmod +x deployment/deploy.sh
```

**Permission issues?**
- Run with `--user node` for security
- Check file permissions in generated-code/

## Next Steps

1. Review CHECKLIST.md for deployment readiness
2. Customize docker-compose.yml for your environment
3. Build and test locally with docker-compose
4. Push to registry (if needed)
5. Deploy to your target environment

---

*Generated by Forge AI orchestrator*
*Date: 2025-12-07T17:11:01.614Z*
